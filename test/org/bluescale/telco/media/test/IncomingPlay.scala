/*
*  
* This file is part of BlueScale.
*
* BlueScale is free software: you can redistribute it and/or modify
* it under the terms of the GNU Affero General Public License as published by
* the Free Software Foundation, either version 3 of the License, or
* (at your option) any later version.
* 
* BlueScale is distributed in the hope that it will be useful,
* but WITHOUT ANY WARRANTY; without even the implied warranty of
* MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
* GNU Affero General Public License for more details.
* 
* You should have received a copy of the GNU Affero General Public License
* along with BlueScale.  If not, see <http://www.gnu.org/licenses/>.
* 
* Copyright Vincent Marquez 2010
* 
* 
* Please contact us at www.BlueScaleSoftware.com
*
*/
package org.bluescale.telco.media.test


import java.util.concurrent.CountDownLatch
import java.util.concurrent.TimeUnit
import org.bluescale.telco._

import org.bluescale.telco.jainsip._
import org.bluescale.telco.api._
import org.junit._
import Assert._

class IncomingPlay {
//extends TestHelper {
/*
    val alice = telcoServer.createConnection("7147579999","555444333")

    //val bob = telcoServer.createConnection("9495554444", "234567789")

    val joinedLatch = new CountDownLatch(1)

    val playedLatch = new CountDownLatch(1)
    //var bobJoined = false

    //var incomingCall:SipConnection = null

    @Test
    def testIncomingPlay() : Unit = { 
        val testCall = b2bServer.createConnection( "", "" )
        telcoServer.setIncomingCallback( (call:SipConnection)=> call.accept(playMedia) )
        testCall.connect( ()=> println("connected") )
        answeredLatch.await()
    }

    def playMedia() {
        val mediaConnection = MediaServer.CreateMediaConnection("url")
        mediaConnection.connectAndPlay( () => println("Playing") )

    }

    */
}

/*
object IncomingForward {
    def main(args:Array[String]) { 
        val test = new IncomingForward()
        test.setUp()
        test.testIncomingForward()
        test.tearDown()
    }
}
*/
